<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="Learn how to build RAG systems and AI agents using LlamaIndex.ts with local models via Ollama. Complete guide with JavaScript examples for privacy-first AI development."><title>Building RAG and AI Agents using JavaScript: A Practical Guide with LlamaIndex.ts</title><link rel=canonical href=https://zinef.github.io/p/llamaindex-rag-agents-javascript/><link rel=stylesheet href=/scss/style.min.946cca6c6259ef94ac55abfae7c7bf3291ea3ed5eea17ef77500b257217c6710.css><meta property='og:title' content="Building RAG and AI Agents using JavaScript: A Practical Guide with LlamaIndex.ts"><meta property='og:description' content="Learn how to build RAG systems and AI agents using LlamaIndex.ts with local models via Ollama. Complete guide with JavaScript examples for privacy-first AI development."><meta property='og:url' content='https://zinef.github.io/p/llamaindex-rag-agents-javascript/'><meta property='og:site_name' content="Zine-eddine's Blog"><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='LlamaIndex.ts'><meta property='article:tag' content='RAG'><meta property='article:tag' content='AI Agents'><meta property='article:tag' content='Local Models'><meta property='article:tag' content='Ollama'><meta property='article:tag' content='TypeScript'><meta property='article:tag' content='Vector Search'><meta property='article:tag' content='Document Processing'><meta property='article:tag' content='ReAct Agents'><meta property='article:tag' content='Privacy AI'><meta property='article:published_time' content='2025-08-16T00:00:00+00:00'><meta property='article:modified_time' content='2025-08-16T00:00:00+00:00'><meta property='og:image' content='https://zinef.github.io/p/llamaindex-rag-agents-javascript/llamaindex_js.png'><meta name=twitter:title content="Building RAG and AI Agents using JavaScript: A Practical Guide with LlamaIndex.ts"><meta name=twitter:description content="Learn how to build RAG systems and AI agents using LlamaIndex.ts with local models via Ollama. Complete guide with JavaScript examples for privacy-first AI development."><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content='https://zinef.github.io/p/llamaindex-rag-agents-javascript/llamaindex_js.png'><link rel="shortcut icon" href=/Mugiwara.png><script async src="https://www.googletagmanager.com/gtag/js?id=G-NZTWCSFPM5"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-NZTWCSFPM5")}</script></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"dark")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hu_b6b517251c5ae6bb.jpg width=300 height=299 class=site-logo loading=lazy alt=Avatar>
</a><span class=emoji>üç•</span></figure><div class=site-meta><h1 class=site-name><a href=/>Zine-eddine's Blog</a></h1><h2 class=site-description>Data Scientist | CS Engineer</h2></div></header><ol class=menu-social><li><a href=https://github.com/zinef target=_blank title=GitHub rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=https://www.linkedin.com/in/zinef/ target=_blank title=LinkedIn rel=me><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-brand-linkedin"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M8 11v5"/><path d="M8 8v.01"/><path d="M12 16v-5"/><path d="M16 16v-3a2 2 0 10-4 0"/><path d="M3 7a4 4 0 014-4h10a4 4 0 014 4v10a4 4 0 01-4 4H7a4 4 0 01-4-4z"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li><a href=/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archives</span></a></li><li><a href=/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li><a href=/links/><svg class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>Links</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>Dark Mode</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">Table of contents</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#why-javascript-for-ai-development>Why JavaScript for AI Development?</a></li><li><a href=#why-llamaindexts-for-rag-and-agents>Why LlamaIndex.ts for RAG and Agents?</a></li><li><a href=#understanding-rag-architecture>Understanding RAG Architecture</a></li><li><a href=#prerequisites>Prerequisites</a></li><li><a href=#minimal-local-rag><strong>Minimal Local RAG</strong></a><ol><li><a href=#scaffold>Scaffold</a></li><li><a href=#rag>RAG</a></li><li><a href=#run-it>Run it</a></li></ol></li><li><a href=#minimal-local-agent><strong>Minimal Local Agent</strong></a><ol><li><a href=#scaffold-1>Scaffold</a></li><li><a href=#agent>Agent</a></li><li><a href=#run-it-1>Run it</a></li></ol></li><li><a href=#production-considerations>Production Considerations</a></li><li><a href=#advanced-features-and-extensibility>Advanced Features and Extensibility</a></li><li><a href=#references--further-reading>References & Further Reading</a></li></ol></nav></div></section></aside><main class="main full-width"><article class="has-image main-article"><header class=article-header><div class=article-image><a href=/p/llamaindex-rag-agents-javascript/><img src=/p/llamaindex-rag-agents-javascript/llamaindex_js_hu_10401ca1bb99b6c8.png srcset="/p/llamaindex-rag-agents-javascript/llamaindex_js_hu_10401ca1bb99b6c8.png 800w, /p/llamaindex-rag-agents-javascript/llamaindex_js_hu_517074cb57aa5109.png 1600w" width=800 height=436 loading=lazy alt="Featured image of post Building RAG and AI Agents using JavaScript: A Practical Guide with LlamaIndex.ts"></a></div><div class=article-details><header class=article-category><a href=/categories/artificial-intelligence/>Artificial Intelligence
</a><a href=/categories/javascript/>JavaScript
</a><a href=/categories/rag-systems/>RAG Systems</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/p/llamaindex-rag-agents-javascript/>Building RAG and AI Agents using JavaScript: A Practical Guide with LlamaIndex.ts</a></h2><h3 class=article-subtitle>Learn how to build RAG systems and AI agents using LlamaIndex.ts with local models via Ollama. Complete guide with JavaScript examples for privacy-first AI development.</h3></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>Aug 16, 2025</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>8 minute read</time></div></footer></div></header><section class=article-content><p>The JavaScript ecosystem has evolved far beyond web development, and the AI revolution is no exception. With the rise of powerful LLMs and the growing need for intelligent applications, JavaScript developers now have robust tools to build Retrieval-Augmented Generation (RAG) systems and AI agents directly in their preferred language.</p><p>Today, libraries like LangChain.js and LlamaIndex.ts bring enterprise-grade AI capabilities to JavaScript, enabling developers to create sophisticated RAG systems and autonomous agents that can run in browsers, Node.js environments, or edge computing platforms.</p><p>For this implementation, we&rsquo;ll be using locally deployed language models through Ollama, specifically lightweight models like tinyllama, llama3.2:1b ‚Ä¶ which provide a good performance for RAG and agent applications while running entirely on local hardware.</p><p>In this comprehensive guide, we&rsquo;ll explore how to leverage LlamaIndex.ts to create both RAG systems and AI agents, complete with practical implementations and real-world use cases that demonstrate the framework&rsquo;s capabilities.</p><h2 id=why-javascript-for-ai-development>Why JavaScript for AI Development?</h2><p>Before diving into implementation details, it&rsquo;s worth understanding why JavaScript has become a compelling choice for AI development:</p><ul><li><p><strong>Universal Runtime</strong>: JavaScript runs everywhere - browsers, servers, mobile apps, and edge devices. This universality means your AI applications can be deployed across diverse environments without language barriers.</p></li><li><p><strong>Real-time Capabilities</strong>: JavaScript&rsquo;s event-driven nature and WebSocket support make it ideal for building responsive AI applications that need to handle streaming responses and real-time interactions.</p></li><li><p><strong>Ecosystem Maturity</strong>: With npm&rsquo;s vast package ecosystem and mature tooling, JavaScript provides excellent developer experience and extensive third-party integrations.</p></li><li><p><strong>Performance</strong>: Modern JavaScript engines like V8 offer impressive performance, and tools like WebAssembly bridge the gap for computationally intensive tasks.</p></li></ul><h2 id=why-llamaindexts-for-rag-and-agents>Why LlamaIndex.ts for RAG and Agents?</h2><p>LlamaIndex.ts represents a paradigm shift for web developers entering the AI space. Unlike Python-centric alternatives, it integrates seamlessly with existing JavaScript infrastructures, enabling developers to build AI applications without context switching between languages.</p><p>The framework offers several compelling advantages:</p><ul><li><p><strong>Native JavaScript Integration</strong>: Deploy RAG systems and agents directly within Node.js applications, Next.js projects, or even browser environments without complex language interoperability layers.</p></li><li><p><strong>Performance Optimization</strong>: Built with modern JavaScript practices, LlamaIndex.ts leverages async/await patterns and streaming capabilities for responsive AI applications.</p></li><li><p><strong>Ecosystem Compatibility</strong>: Integrates naturally with popular JavaScript libraries, databases, and web frameworks, reducing friction in existing development workflows.</p></li><li><p><strong>Edge Computing Ready</strong>: The lightweight nature of JavaScript makes it ideal for edge deployments, bringing AI capabilities closer to users.</p></li></ul><h2 id=understanding-rag-architecture>Understanding RAG Architecture</h2><p>Retrieval-Augmented Generation combines the power of large language models with external knowledge sources. Instead of relying solely on pre-trained knowledge, RAG systems retrieve relevant information from custom datasets and use it to generate more accurate, contextually relevant responses.</p><p><img src=/p/llamaindex-rag-agents-javascript/rag.png width=1342 height=650 srcset="/p/llamaindex-rag-agents-javascript/rag_hu_c30913be13f80ade.png 480w, /p/llamaindex-rag-agents-javascript/rag_hu_29fa24a09ce8a09d.png 1024w" loading=lazy alt="source : https://docs.llamaindex.ai/en/stable/understanding/rag/" class=gallery-image data-flex-grow=206 data-flex-basis=495px></p><p>The typical RAG pipeline consists of four key stages:</p><ol><li><strong>Document Ingestion</strong>: Processing and preparing source documents</li><li><strong>Embedding Generation</strong>: Converting text into vector representations</li><li><strong>Vector Storage</strong>: Storing embeddings in a searchable format</li><li><strong>Retrieval and Generation</strong>: Finding relevant context and generating responses</li></ol><p>LlamaIndex.ts streamlines this entire pipeline while providing fine-grained control over each component.</p><h2 id=prerequisites>Prerequisites</h2><ul><li><p><strong>Node.js</strong> ‚â• 18 (‚â• 20 recommended) and <strong>npm</strong></p></li><li><p><strong>Ollama</strong> running locally (<code>ollama serve</code>)</p></li><li><p>Local models already pulled, e.g.:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl># choose a model you have locally (examples)
</span></span><span class=line><span class=cl>ollama pull tinyllama           # or gpt-oss-20b, llama3.1:8b, mistral, etc.
</span></span><span class=line><span class=cl>ollama pull nomic-embed-text      # embedding model
</span></span></code></pre></td></tr></table></div></div></li><li><p>A new empty folder for each project (we‚Äôll keep <strong>RAG</strong> and <strong>Agent</strong> separate).</p></li></ul><blockquote><p><strong><em>Note 1 :</em></strong> <em>We‚Äôll use plain <strong>JavaScript (ESM)</strong> to keep things frictionless. If you prefer TypeScript, just rename files to <code>.ts</code> and add a <code>tsconfig.json</code> , the imports stay the same.</em></p></blockquote><blockquote><p><strong><em>Note 2 :</em></strong> <em>The following code is intentionally kept simple and minimal so it‚Äôs easy to follow in a blog format.</em>
<em>In a real project, you‚Äôd usually want to <strong>refactor</strong> it into separate modules (for example, moving the agent or RAG logic into its own file and keeping the CLI entrypoint clean).</em>
<em>This also makes it easier to add more functionality later (extra tools, different LLMs/embeddings, richer error handling, etc.). The nice thing is that the core logic stays the same. You can scale the structure as your project grows.</em></p></blockquote><h2 id=minimal-local-rag><strong>Minimal Local RAG</strong></h2><h3 id=scaffold>Scaffold</h3><p>Create a folder : <code>rag-llamaindex-js/</code>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>rag-llamaindex-js/
</span></span><span class=line><span class=cl>  package.json
</span></span><span class=line><span class=cl>  index.js
</span></span><span class=line><span class=cl>  data/
</span></span><span class=line><span class=cl>    your-notes.md
</span></span><span class=line><span class=cl>    another-file.txt
</span></span><span class=line><span class=cl>  storage/        # will be created automatically
</span></span></code></pre></td></tr></table></div></div><p><strong>package.json</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;name&#34;</span><span class=p>:</span> <span class=s2>&#34;local-rag-llamaindex&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;private&#34;</span><span class=p>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;type&#34;</span><span class=p>:</span> <span class=s2>&#34;module&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;scripts&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;start&#34;</span><span class=p>:</span> <span class=s2>&#34;node index.js&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;clean&#34;</span><span class=p>:</span> <span class=s2>&#34;rimraf storage&#34;</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;dependencies&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;llamaindex&#34;</span><span class=p>:</span> <span class=s2>&#34;latest&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;@llamaindex/ollama&#34;</span><span class=p>:</span> <span class=s2>&#34;latest&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;@llamaindex/readers&#34;</span><span class=p>:</span> <span class=s2>&#34;latest&#34;</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;devDependencies&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;rimraf&#34;</span><span class=p>:</span> <span class=s2>&#34;latest&#34;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Install:</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>cd rag-llamaindex-js
</span></span><span class=line><span class=cl>npm i
</span></span></code></pre></td></tr></table></div></div><p>Put a couple of small <code>.md</code> or <code>.txt</code> files into <code>./data</code> .</p><h3 id=rag>RAG</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// Imports
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=p>{</span> <span class=nx>Settings</span><span class=p>,</span> <span class=nx>VectorStoreIndex</span><span class=p>,</span> <span class=nx>storageContextFromDefaults</span> <span class=p>}</span> <span class=nx>from</span> <span class=s2>&#34;llamaindex&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>SimpleDirectoryReader</span> <span class=p>}</span> <span class=nx>from</span> <span class=s2>&#34;@llamaindex/readers/directory&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>ollama</span><span class=p>,</span> <span class=nx>OllamaEmbedding</span> <span class=p>}</span> <span class=nx>from</span> <span class=s2>&#34;@llamaindex/ollama&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Configure local LLM + local embeddings
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>Settings</span><span class=p>.</span><span class=nx>llm</span> <span class=o>=</span> <span class=nx>ollama</span><span class=p>({</span> <span class=nx>model</span><span class=o>:</span> <span class=nx>process</span><span class=p>.</span><span class=nx>env</span><span class=p>.</span><span class=nx>OLLAMA_LLM</span> <span class=o>||</span> <span class=s2>&#34;tinyllama&#34;</span> <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=nx>Settings</span><span class=p>.</span><span class=nx>embedModel</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>OllamaEmbedding</span><span class=p>({</span>
</span></span><span class=line><span class=cl>  <span class=nx>model</span><span class=o>:</span> <span class=nx>process</span><span class=p>.</span><span class=nx>env</span><span class=p>.</span><span class=nx>OLLAMA_EMBED</span> <span class=o>||</span> <span class=s2>&#34;nomic-embed-text&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>DATA_DIR</span> <span class=o>=</span> <span class=s2>&#34;./data&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>PERSIST_DIR</span> <span class=o>=</span> <span class=s2>&#34;./storage&#34;</span><span class=p>;</span> <span class=c1>// vector + docstore persisted locally
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>// 1) Loading &amp; ingestion
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>async</span> <span class=kd>function</span> <span class=nx>loadDocuments</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>reader</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>SimpleDirectoryReader</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nx>reader</span><span class=p>.</span><span class=nx>loadData</span><span class=p>({</span> <span class=nx>directoryPath</span><span class=o>:</span> <span class=nx>DATA_DIR</span> <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 2) Indexing &amp; embedding + 3) Storing (persisted via storageContext)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>async</span> <span class=kd>function</span> <span class=nx>buildIndex</span><span class=p>(</span><span class=nx>documents</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>storageContext</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>storageContextFromDefaults</span><span class=p>({</span> <span class=nx>persistDir</span><span class=o>:</span> <span class=nx>PERSIST_DIR</span> <span class=p>});</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nx>VectorStoreIndex</span><span class=p>.</span><span class=nx>fromDocuments</span><span class=p>(</span><span class=nx>documents</span><span class=p>,</span> <span class=p>{</span> <span class=nx>storageContext</span> <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// (Optional) If you want to reload later without re-embedding.
</span></span></span><span class=line><span class=cl><span class=c1>// import { VectorStoreIndex } from &#34;llamaindex&#34;;
</span></span></span><span class=line><span class=cl><span class=c1>// const storageContext = await storageContextFromDefaults({ persistDir: PERSIST_DIR });
</span></span></span><span class=line><span class=cl><span class=c1>// const index = await VectorStoreIndex.init({ storageContext });
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>// 4) Querying
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>async</span> <span class=kd>function</span> <span class=nx>query</span><span class=p>(</span><span class=nx>index</span><span class=p>,</span> <span class=nx>question</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>queryEngine</span> <span class=o>=</span> <span class=nx>index</span><span class=p>.</span><span class=nx>asQueryEngine</span><span class=p>({</span> <span class=nx>similarityTopK</span><span class=o>:</span> <span class=mi>3</span> <span class=p>});</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>res</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>queryEngine</span><span class=p>.</span><span class=nx>query</span><span class=p>({</span> <span class=nx>query</span><span class=o>:</span> <span class=nx>question</span> <span class=p>});</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nx>res</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Entrypoint 
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>question</span> <span class=o>=</span> <span class=nx>process</span><span class=p>.</span><span class=nx>argv</span><span class=p>.</span><span class=nx>slice</span><span class=p>(</span><span class=mi>2</span><span class=p>).</span><span class=nx>join</span><span class=p>(</span><span class=s2>&#34; &#34;</span><span class=p>)</span> <span class=o>||</span> <span class=s2>&#34;What are the key ideas in these documents?&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>docs</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>loadDocuments</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>index</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>buildIndex</span><span class=p>(</span><span class=nx>docs</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>res</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>query</span><span class=p>(</span><span class=nx>index</span><span class=p>,</span> <span class=nx>question</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&#34;\nQ:&#34;</span><span class=p>,</span> <span class=nx>question</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&#34;\nAnswer:\n&#34;</span><span class=p>,</span> <span class=nx>res</span><span class=p>.</span><span class=nx>response</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&#34;\nSources:&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=p>(</span><span class=kr>const</span> <span class=nx>s</span> <span class=k>of</span> <span class=nx>res</span><span class=p>.</span><span class=nx>sourceNodes</span> <span class=o>??</span> <span class=p>[])</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&#34;-&#34;</span><span class=p>,</span> <span class=nx>s</span><span class=p>.</span><span class=nx>node</span><span class=o>?</span><span class=p>.</span><span class=nx>metadata</span><span class=o>?</span><span class=p>.</span><span class=nx>file_name</span> <span class=o>||</span> <span class=nx>s</span><span class=p>.</span><span class=nx>id_</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=run-it>Run it</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl># terminal 1
</span></span><span class=line><span class=cl>ollama serve
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl># terminal 2 (in rag-llamaindex-js/)
</span></span><span class=line><span class=cl>node index.js &#34;Summarize the main points across these docs.&#34;
</span></span></code></pre></td></tr></table></div></div><p>You‚Äôll see an answer and a short list of source files like this.</p><p><img src=/p/llamaindex-rag-agents-javascript/rag-res.png width=1409 height=461 srcset="/p/llamaindex-rag-agents-javascript/rag-res_hu_a689e67d1ffc9871.png 480w, /p/llamaindex-rag-agents-javascript/rag-res_hu_5682201724270bed.png 1024w" loading=lazy class=gallery-image data-flex-grow=305 data-flex-basis=733px></p><h2 id=minimal-local-agent><strong>Minimal Local Agent</strong></h2><h3 id=scaffold-1>Scaffold</h3><p>Create a new folder : <code>agent-llamaindex-js/</code> :</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>agent-llamaindex-js/
</span></span><span class=line><span class=cl>  package.json
</span></span><span class=line><span class=cl>  index.js
</span></span></code></pre></td></tr></table></div></div><p><strong>package.json</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;name&#34;</span><span class=p>:</span> <span class=s2>&#34;local-agent-llamaindex&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;private&#34;</span><span class=p>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;type&#34;</span><span class=p>:</span> <span class=s2>&#34;module&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;scripts&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;start&#34;</span><span class=p>:</span> <span class=s2>&#34;node index.js&#34;</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;dependencies&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;llamaindex&#34;</span><span class=p>:</span> <span class=s2>&#34;latest&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;@llamaindex/ollama&#34;</span><span class=p>:</span> <span class=s2>&#34;latest&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;@llamaindex/workflow&#34;</span><span class=p>:</span> <span class=s2>&#34;latest&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;zod&#34;</span><span class=p>:</span> <span class=s2>&#34;latest&#34;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Install:</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=err>cd</span> <span class=err>agent-llamaindex-js</span>
</span></span><span class=line><span class=cl><span class=err>npm</span> <span class=err>i</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=agent>Agent</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// Imports
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=p>{</span> <span class=nx>Settings</span><span class=p>,</span> <span class=nx>tool</span> <span class=p>}</span> <span class=nx>from</span> <span class=s2>&#34;llamaindex&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>agent</span> <span class=p>}</span> <span class=nx>from</span> <span class=s2>&#34;@llamaindex/workflow&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>z</span> <span class=p>}</span> <span class=nx>from</span> <span class=s2>&#34;zod&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>ollama</span> <span class=p>}</span> <span class=nx>from</span> <span class=s2>&#34;@llamaindex/ollama&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Local LLM via Ollama
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>Settings</span><span class=p>.</span><span class=nx>llm</span> <span class=o>=</span> <span class=nx>ollama</span><span class=p>({</span> <span class=nx>model</span><span class=o>:</span> <span class=nx>process</span><span class=p>.</span><span class=nx>env</span><span class=p>.</span><span class=nx>OLLAMA_LLM</span> <span class=o>||</span> <span class=s2>&#34;llama3.2:1b&#34;</span> <span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// A strict calculator tool
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>addTool</span> <span class=o>=</span> <span class=nx>tool</span><span class=p>({</span>
</span></span><span class=line><span class=cl>  <span class=nx>name</span><span class=o>:</span> <span class=s2>&#34;sumNumbers&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>description</span><span class=o>:</span> <span class=s2>&#34;Add two numbers and return the sum as a string.&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>parameters</span><span class=o>:</span> <span class=nx>z</span><span class=p>.</span><span class=nx>object</span><span class=p>({</span>
</span></span><span class=line><span class=cl>    <span class=nx>a</span><span class=o>:</span> <span class=nx>z</span><span class=p>.</span><span class=nx>number</span><span class=p>().</span><span class=nx>describe</span><span class=p>(</span><span class=s2>&#34;First addend&#34;</span><span class=p>),</span>
</span></span><span class=line><span class=cl>    <span class=nx>b</span><span class=o>:</span> <span class=nx>z</span><span class=p>.</span><span class=nx>number</span><span class=p>().</span><span class=nx>describe</span><span class=p>(</span><span class=s2>&#34;Second addend&#34;</span><span class=p>),</span>
</span></span><span class=line><span class=cl>  <span class=p>}),</span>
</span></span><span class=line><span class=cl>  <span class=nx>execute</span><span class=o>:</span> <span class=p>({</span> <span class=nx>a</span><span class=p>,</span> <span class=nx>b</span> <span class=p>})</span> <span class=p>=&gt;</span> <span class=sb>`</span><span class=si>${</span><span class=nx>a</span> <span class=o>+</span> <span class=nx>b</span><span class=si>}</span><span class=sb>`</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>async</span> <span class=kd>function</span> <span class=nx>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>myAgent</span> <span class=o>=</span> <span class=nx>agent</span><span class=p>({</span>
</span></span><span class=line><span class=cl>    <span class=nx>systemPrompt</span><span class=o>:</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;You are a precise assistant. Use tools when helpful. After using tools, output only the final answer.&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>tools</span><span class=o>:</span> <span class=p>[</span><span class=nx>addTool</span><span class=p>],</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>userInput</span> <span class=o>=</span> <span class=nx>process</span><span class=p>.</span><span class=nx>argv</span><span class=p>.</span><span class=nx>slice</span><span class=p>(</span><span class=mi>2</span><span class=p>).</span><span class=nx>join</span><span class=p>(</span><span class=s2>&#34; &#34;</span><span class=p>)</span> <span class=o>||</span> <span class=s2>&#34;Add 101 and 303&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=p>{</span> <span class=nx>data</span> <span class=p>}</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>myAgent</span><span class=p>.</span><span class=nx>run</span><span class=p>(</span><span class=nx>userInput</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&#34;\nUser:&#34;</span><span class=p>,</span> <span class=nx>userInput</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&#34;\nAgent:&#34;</span><span class=p>,</span> <span class=nx>data</span><span class=o>?</span><span class=p>.</span><span class=nx>result</span> <span class=o>??</span> <span class=nb>String</span><span class=p>(</span><span class=nx>data</span><span class=p>));</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>main</span><span class=p>().</span><span class=k>catch</span><span class=p>((</span><span class=nx>e</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>error</span><span class=p>(</span><span class=nx>e</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=nx>process</span><span class=p>.</span><span class=nx>exit</span><span class=p>(</span><span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></td></tr></table></div></div><blockquote><p><strong><em>Note :</em></strong> <em>Ensure you have a model that supports tool using, here we‚Äôre using llama3.2:1b.</em></p></blockquote><h3 id=run-it-1>Run it</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=c1># terminal 1</span>
</span></span><span class=line><span class=cl><span class=n>ollama</span> <span class=n>serve</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># terminal 2 (in agent-llamaindex-js/)</span>
</span></span><span class=line><span class=cl><span class=n>node</span> <span class=n>index</span><span class=o>.</span><span class=n>js</span> <span class=s2>&#34;Add 11 and 99&#34;</span>
</span></span><span class=line><span class=cl><span class=c1># Agent should call the tool and print: 110</span>
</span></span></code></pre></td></tr></table></div></div><p>You‚Äôll see an answer like this.</p><p><img src=/p/llamaindex-rag-agents-javascript/agent-res.png width=1418 height=169 srcset="/p/llamaindex-rag-agents-javascript/agent-res_hu_8d626c0342613388.png 480w, /p/llamaindex-rag-agents-javascript/agent-res_hu_e9421d36b229d19f.png 1024w" loading=lazy class=gallery-image data-flex-grow=839 data-flex-basis=2013px></p><h2 id=production-considerations>Production Considerations</h2><p>When deploying RAG systems and agents to production, several critical factors must be addressed:</p><ul><li><p><strong>Performance Optimization</strong>: Implement vector database caching, use connection pooling for database operations, and consider implementing response caching for frequently asked questions.</p></li><li><p><strong>Security and Privacy</strong>: Implement proper input sanitization, use environment-specific API keys, implement rate limiting, and ensure sensitive data is properly handled and not logged.</p></li><li><p><strong>Monitoring and Observability</strong>: Track query performance, monitor token usage and costs, implement error tracking, and maintain conversation quality metrics.</p></li><li><p><strong>Scalability</strong>: Design for horizontal scaling, implement proper load balancing, consider edge deployments for reduced latency, and plan for data partitioning strategies.</p></li></ul><h2 id=advanced-features-and-extensibility>Advanced Features and Extensibility</h2><p>LlamaIndex.ts supports numerous advanced features that can enhance your applications:</p><ul><li><p><strong>Custom Vector Stores</strong>: Integration with specialized vector databases like Pinecone, Weaviate, or Qdrant for production-scale deployments.</p></li><li><p><strong>Multi-modal Capabilities</strong>: Support for processing images, audio, and other media types alongside text documents.</p></li><li><p><strong>Fine-tuning Integration</strong>: Capability to work with custom fine-tuned models for domain-specific applications.</p></li><li><p><strong>Real-time Updates</strong>: Implement systems for updating knowledge bases in real-time as new information becomes available.</p></li></ul><h2 id=references--further-reading>References & Further Reading</h2><ul><li><a class=link href=https://ts.llamaindex.ai/ target=_blank rel=noopener>LlamaIndex.TS (JS/TS) docs</a></li><li><a class=link href="https://www.notion.so/RAG-JS-2514e23683188084a34cc5c050a9ca4c?pvs=21" target=_blank rel=noopener>Loading data</a></li><li><a class=link href=https://ts.llamaindex.ai/docs/workflows target=_blank rel=noopener>LlamaIndex Workflows / agents</a></li><li><a class=link href=https://arxiv.org/abs/2005.11401 target=_blank rel=noopener>Retrieval-Augmented Generation for Knowledge-Intensive NLP Tasks</a></li><li><a class=link href=https://docs.llamaindex.ai/en/stable/understanding/rag/ target=_blank rel=noopener>LlamaIndex RAG blog</a></li><li><a class=link href=https://huggingface.co/blog/ngxson/make-your-own-rag target=_blank rel=noopener>Make your own RAG - Huggingface blog</a></li><li><a class=link href=https://huggingface.co/learn/agents-course/unit0/introduction target=_blank rel=noopener>Huggingface&rsquo;s Agents Course</a></li></ul></section><footer class=article-footer><section class=article-tags><a href=/tags/llamaindex.ts/>LlamaIndex.ts</a>
<a href=/tags/rag/>RAG</a>
<a href=/tags/ai-agents/>AI Agents</a>
<a href=/tags/local-models/>Local Models</a>
<a href=/tags/ollama/>Ollama</a>
<a href=/tags/typescript/>TypeScript</a>
<a href=/tags/vector-search/>Vector Search</a>
<a href=/tags/document-processing/>Document Processing</a>
<a href=/tags/react-agents/>ReAct Agents</a>
<a href=/tags/privacy-ai/>Privacy AI</a></section><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>Related content</h2><div class=related-content><div class="flex article-list--tile"><article class=has-image><a href=/p/algorithms-to-prompts-llms/><div class=article-image><img src=/p/algorithms-to-prompts-llms/turing-m.195d3f0683f2a9e0dad0de0e48566c0a_hu_fd57c422537b89cd.jpeg width=250 height=150 loading=lazy alt="Featured image of post From Algorithms to Prompts: Did We Just Loop Back or Level Up?" data-key=algorithms-to-prompts-llms data-hash="md5-GV0/BoPyqeDa0N4OSFZsCg=="></div><div class=article-details><h2 class=article-title>From Algorithms to Prompts: Did We Just Loop Back or Level Up?</h2></div></a></article><article class=has-image><a href=/p/openai-gpt-oss-models/><div class=article-image><img src=/p/openai-gpt-oss-models/open_ai.9b710bc2c78c6de107bade3339a4aa64_hu_ed4ed4db7ee4ac88.jpg width=250 height=150 loading=lazy alt="Featured image of post OpenAI Goes Open Source: Introducing GPT-OSS Models" data-key=openai-gpt-oss-models data-hash="md5-m3ELwseMbeEHut4zOaSqZA=="></div><div class=article-details><h2 class=article-title>OpenAI Goes Open Source: Introducing GPT-OSS Models</h2></div></a></article><article class=has-image><a href=/p/blender-mcp/><div class=article-image><img src=/p/blender-mcp/blender_mcp_cover.973af8610e4e049e417afe0132ce7972_hu_253eea1f9d0e737a.jpg width=250 height=150 loading=lazy alt="Featured image of post AI-Assisted 3D Design: Exploring Blender-MCP" data-key=blender-mcp data-hash="md5-lzr4YQ5OBJ5Bev4BMs55cg=="></div><div class=article-details><h2 class=article-title>AI-Assisted 3D Design: Exploring Blender-MCP</h2></div></a></article></div></div></aside><div class=disqus-container><div id=disqus_thread></div><script>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//zinef.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div><style>.disqus-container{background-color:var(--card-background);border-radius:var(--card-border-radius);box-shadow:var(--shadow-l1);padding:var(--card-padding)}</style><script>window.addEventListener("onColorSchemeChange",e=>{typeof DISQUS=="object"&&DISQUS.reset({reload:!0})})</script><footer class=site-footer><section class=copyright>&copy;
2023 -
2025 Zine-eddine's Blog</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.30.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>